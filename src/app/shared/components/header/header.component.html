<header class="header" role="banner">
  <div class="header-content">
    <div class="logo">
      <h1>{{ title() | translate}}</h1>
    </div>
    
    <!-- Desktop Navigation -->
    <app-navbar [items]="navigationItems()" />
    
    <!-- Header Actions (Language, Theme, Burger Menu) -->
    <app-header-actions 
      [sidebarOpen]="isSidebarOpen()"
      (sidebarToggle)="toggleSidebar()" />
  </div>
</header>

<!-- Mobile Sidebar -->
<app-sidebar 
  [isOpen]="isSidebarOpen()"
  [items]="navigationItems()"
  [title]="title()"
  (sidebarClose)="closeSidebar()">
  
  <!-- Sidebar Footer Actions -->
  <div class="sidebar-lang">
    <label for="sidebar-lang-select" class="visually-hidden">{{ 'app.actions.changeLanguage' | translate }}</label>
    <select id="sidebar-lang-select"
            class="lang-select"
            [value]="i18n.currentLang()"
            (change)="onLanguageChange($event)"
            [attr.tabindex]="isSidebarOpen() ? '0' : '-1'"
            aria-label="{{ 'app.actions.changeLanguage' | translate }}">
      @for (lang of i18n.availableLangs; track lang) {
        <option [value]="lang">{{ ('app.languages.' + lang) | translate }}</option>
      }
    </select>
  </div>
  <button 
    class="sidebar-theme-toggle"
    (click)="themeService.toggleTheme()"
    [attr.aria-label]="'app.actions.toggleTheme' | translate"
    [attr.aria-pressed]="themeService.isDarkMode()"
    [attr.tabindex]="isSidebarOpen() ? '0' : '-1'"
    type="button"
  >
    {{ themeService.getThemeIcon() }}
    <span>{{ ('app.themes.' + (themeService.isDarkMode() ? 'light' : 'dark')) | translate }}</span>
  </button>
</app-sidebar>